#include <stdio.h>

const short int a[] =  {123,123,129,135,136,134,130,132,133,129,121,117,119,126,132,159,
121,126,130,130,135,132,128,130,140,130,115,96,114,118,157,165,
117,117,121,119,124,130,126,130,152,126,97,99,112,123,154,150,
114,120,118,120,127,131,124,128,148,105,83,114,110,124,139,131,
116,120,124,129,130,128,127,134,135,98,95,123,109,110,135,128,
129,137,137,131,131,137,131,126,125,117,113,124,113,109,129,145,
148,144,134,130,133,132,128,128,128,111,106,119,119,113,125,148,
143,130,130,130,119,112,132,130,117,101,105,114,132,128,135,154,
133,134,128,124,117,127,126,108,109,105,108,111,131,146,148,162,
135,138,121,121,117,120,119,122,115,103,107,85,114,143,166,178,
139,131,115,120,114,120,133,131,124,124,127,108,101,129,157,183,
138,121,117,116,122,125,135,132,120,125,141,132,120,120,158,167,
121,123,113,110,130,139,140,110,95,103,97,90,106,120,162,163,
123,127,115,108,130,157,143,130,113,106,98,110,116,153,169,168,
132,131,104,113,125,156,140,140,107,78,101,115,150,184,175,161,
138,127,110,117,120,145,133,144,123,93,115,145,178,174,146,151,
141,123,118,100,101,135,136,118,137,140,144,149,146,135,136,142,
139,121,126,87,102,132,142,117,111,120,124,126,124,136,136,134,
135,127,127,101,115,130,153,133,117,107,99,96,95,98,91,84,
128,122,119,110,119,130,163,153,117,86,74,67,60,73,77,84,
116,121,118,111,117,124,153,164,104,86,64,56,63,68,80,83,
113,113,116,113,114,102,108,163,104,87,61,61,59,65,77,78,
115,104,97,91,93,63,72,147,107,79,41,55,57,67,65,66,
129,79,75,71,79,56,55,125,106,60,57,51,54,64,60,57,
138,100,79,73,74,72,67,103,97,71,56,53,56,55,48,53,
118,132,105,82,79,63,37,75,96,92,70,57,55,45,37,47,
121,98,110,92,68,43,27,45,57,52,68,68,60,36,38,40,
119,101,62,75,83,58,32,26,30,28,42,50,43,38,38,35,
105,95,58,41,44,32,27,29,29,23,25,31,27,28,30,31,
75,80,57,43,44,29,28,27,20,24,23,23,18,23,28,27,
75,61,48,54,42,28,23,22,20,23,20,17,16,17,19,25,
88,41,33,40,23,21,21,19,20,20,19,16,18,16,19,37,
68,32,38,29,21,20,18,17,19,19,19,17,18,20,30,61,
44,37,26,26,28,26,23,23,24,26,34,25,21,23,35,65,
32,27,27,62,71,65,61,57,57,60,67,38,23,23,39,69,
33,27,79,112,89,80,79,88,76,92,86,48,26,26,41,74,
34,46,116,103,93,118,92,69,105,113,84,53,31,29,39,77,
32,75,120,97,129,150,118,72,106,116,81,55,37,30,39,80,
35,94,126,109,138,151,124,109,105,101,82,61,44,32,44,84,
37,101,140,120,134,154,150,138,87,84,91,66,47,37,55,98,
39,100,147,132,133,164,161,134,90,84,100,81,47,48,78,113,
50,87,144,137,132,163,152,128,115,99,100,93,72,93,110,121,
56,68,141,141,131,165,153,138,139,117,110,122,127,134,129,128,
54,55,103,135,119,155,150,144,149,128,100,118,152,145,137,130,
51,50,51,84,107,112,140,145,150,137,123,88,143,155,139,129,
48,48,47,44,57,83,101,132,152,156,170,141,139,154,136,126,
48,47,47,46,46,41,79,104,119,135,161,157,141,129,124,124,
48,47,47,46,47,41,31,80,113,118,155,161,163,153,128,122,
48,46,46,47,47,45,30,29,86,121,154,173,178,172,154,123,
47,46,46,46,46,46,38,18,26,83,142,167,175,173,164,146,
46,46,46,45,45,46,43,23,17,28,96,145,145,152,159,155,
46,46,46,46,46,45,46,32,18,17,49,106,119,115,135,139,
46,46,46,46,46,45,46,39,22,18,80,112,115,110,74,73,
46,46,46,46,46,46,45,44,35,24,88,108,109,103,78,63,
46,46,46,46,45,45,45,46,45,41,57,104,107,99,77,59,
46,45,45,45,44,43,43,45,45,46,39,56,83,79,55,60,
45,45,40,33,34,37,41,45,45,45,40,20,20,24,49,66,
42,41,28,12,12,14,20,32,41,43,39,18,18,25,53,72,
36,36,27,10,10,9,11,14,21,31,25,19,20,31,55,76,
36,38,29,11,13,14,13,12,15,18,20,21,24,31,56,76,
37,40,33,14,14,16,17,17,18,19,21,25,38,52,67,76,
37,38,34,25,33,37,40,39,38,35,39,38,53,66,75,78,
36,40,39,41,56,56,55,55,52,48,58,59,63,76,78,80,
39,40,44,47,66,69,67,67,68,63,69,72,69,78,83,81,
153,142,143,154,161,129,91,82,81,97,106,134,140,119,106,102,
148,120,110,139,144,135,100,84,102,119,120,150,142,127,109,105,
126,100,94,109,109,114,101,88,119,138,146,164,148,132,111,110,
107,97,71,81,87,97,101,102,139,157,157,167,160,146,119,112,
110,111,80,80,102,109,117,140,148,168,165,171,169,148,118,115,
137,115,115,110,124,126,143,157,149,162,166,175,171,135,129,123,
175,153,121,133,146,140,149,154,152,144,163,174,172,150,148,151,
164,177,126,131,149,143,147,156,157,131,151,168,175,166,165,169,
160,161,130,117,136,144,143,161,149,123,137,162,179,174,171,173,
177,160,126,110,128,135,139,148,133,125,139,155,172,176,170,170,
192,167,125,120,126,125,129,136,135,138,144,152,159,172,173,169,
186,170,133,128,120,114,125,137,146,158,171,166,156,160,167,172,
167,171,141,120,113,120,133,137,142,150,164,173,164,158,163,170,
142,164,135,118,123,133,142,145,148,146,149,151,151,153,157,165,
137,156,132,120,132,146,144,148,148,148,148,145,145,151,157,161,
142,143,129,128,140,147,146,150,152,146,150,149,152,154,155,165,
141,123,119,130,145,145,146,147,151,151,152,154,157,157,154,168,
105,111,109,135,147,140,147,148,153,153,154,155,160,164,164,171,
87,101,110,135,143,141,150,152,156,150,155,164,169,174,175,177,
87,94,116,132,137,139,145,155,157,149,160,166,168,174,175,179,
79,90,114,128,132,137,141,148,155,157,157,168,175,176,180,184,
79,84,110,127,131,136,144,150,156,159,158,168,175,178,182,187,
71,82,102,122,132,129,138,145,152,154,158,165,174,175,180,185,
67,78,92,118,129,128,128,140,149,149,152,158,172,179,180,167,
61,68,86,116,127,129,131,133,145,142,147,158,168,168,153,123,
52,62,90,117,126,124,128,132,141,138,141,148,145,140,144,150,
44,63,102,116,128,122,125,128,135,134,129,121,129,142,146,142,
41,78,110,122,121,118,114,121,125,116,98,88,99,91,97,117,
50,89,112,118,108,98,80,68,54,41,27,23,72,84,79,98,
46,65,63,51,40,34,32,26,23,28,26,26,56,80,80,77,
30,33,36,32,31,36,42,48,60,71,79,88,88,67,77,81,
62,76,88,87,84,89,89,84,102,112,108,114,117,87,70,104,
92,102,106,109,106,109,107,98,111,128,123,122,126,109,74,119,
98,109,111,115,114,114,113,112,118,123,126,127,127,130,99,130,
99,109,110,114,115,117,120,124,131,132,133,138,144,151,134,135,
102,110,115,117,117,116,122,133,135,135,140,142,156,163,161,139,
102,113,119,122,114,115,120,130,135,140,144,146,156,163,166,147,
106,113,116,122,121,118,120,130,136,142,144,154,154,159,162,159,
112,117,115,119,119,117,121,128,139,142,150,154,154,159,158,162,
119,117,115,117,115,115,117,126,134,139,148,152,154,157,154,163,
122,120,112,114,114,113,118,125,133,141,147,152,157,158,161,171,
124,120,115,116,111,110,115,119,130,137,143,150,157,161,169,177,
125,120,121,113,106,108,112,118,124,131,138,144,152,159,169,177,
117,119,122,117,111,108,107,114,121,123,133,135,147,155,163,175,
121,122,125,122,110,112,108,113,120,121,127,129,142,153,158,163,
124,125,127,124,121,117,114,115,119,124,125,128,137,146,149,153,
123,126,126,122,120,118,118,118,123,126,125,127,130,137,143,147,
123,125,127,123,120,119,119,119,125,128,126,127,126,134,137,144,
122,124,125,125,120,120,123,119,122,127,126,134,133,141,146,154,
123,123,126,125,124,123,124,119,119,126,129,135,137,145,155,164,
130,120,126,125,125,123,125,123,117,125,128,133,136,139,155,171,
119,108,121,126,125,126,125,125,120,118,125,133,138,133,149,172,
73,84,106,120,126,129,127,124,121,120,122,128,145,133,136,163,
76,77,83,102,120,125,126,126,128,122,118,125,146,146,129,144,
80,86,79,86,102,117,121,124,127,125,123,126,142,155,149,133,
82,92,84,80,90,105,115,119,124,122,123,122,135,154,162,149,
83,96,91,85,82,95,108,113,118,119,129,127,133,143,154,160,
86,96,95,91,84,85,96,108,112,121,128,128,125,136,144,153,
88,96,100,97,87,79,88,102,106,113,122,122,120,131,138,145,
86,93,100,99,88,79,77,89,100,108,116,122,126,128,129,137,
86,97,101,100,95,83,75,77,84,94,105,115,117,120,121,131,
85,98,105,102,99,92,81,76,75,81,91,99,106,106,111,116,
86,97,100,102,101,95,87,80,77,72,75,79,84,92,98,102,
87,95,99,102,102,98,90,83,79,76,72,71,73,76,78,81,
96,85,78,82,97,96,83,98,116,123,131,149,167,173,173,168,
86,90,98,80,81,72,88,83,84,74,90,101,129,151,158,156,
93,84,95,109,97,79,87,79,45,54,55,75,105,134,154,159,
109,98,110,116,127,109,98,86,76,70,68,82,99,119,139,156,
129,132,135,138,144,146,125,121,103,83,77,90,125,151,171,179,
137,145,154,165,164,165,154,149,139,113,100,96,111,135,158,168,
158,164,168,172,180,179,174,166,154,140,125,113,106,105,115,131,
171,174,175,175,178,183,184,181,172,160,146,128,116,93,86,87,
174,176,176,177,179,179,186,186,183,179,167,153,140,125,114,98,
168,177,176,178,182,185,186,191,186,187,184,173,167,163,156,143,
173,180,181,184,183,184,187,192,191,193,194,192,190,186,181,170,
180,183,183,182,182,183,185,189,193,194,198,201,197,196,193,185,
177,185,187,185,183,185,185,190,191,195,197,200,198,200,197,192,
172,179,180,181,183,184,187,189,188,195,197,199,201,201,199,194,
168,175,180,183,183,186,188,189,189,197,197,199,203,203,200,197,
166,170,175,181,188,186,187,190,194,199,199,200,204,202,199,198,
170,171,173,181,188,180,186,191,193,198,198,200,203,201,199,198,
171,174,177,185,187,188,190,194,196,200,201,199,200,201,198,199,
181,181,185,187,190,194,196,197,197,197,198,199,199,199,197,201,
185,184,186,189,191,195,194,198,199,197,199,197,199,200,198,200,
188,190,189,191,194,197,197,201,202,202,201,200,199,202,199,199,
189,192,193,195,195,196,198,200,201,201,202,201,202,202,197,195,
184,185,186,185,183,187,189,191,192,197,198,199,200,197,196,193,
145,136,120,108,115,122,127,135,148,163,173,192,196,196,196,190,
121,109,88,78,72,74,77,86,97,119,146,183,192,192,194,187,
156,144,127,110,95,80,75,74,75,90,121,161,182,189,193,185,
132,112,99,104,112,121,131,127,121,97,72,75,120,168,189,181,
122,124,112,110,121,122,128,147,160,143,124,109,71,67,121,124,
105,92,88,134,147,134,123,129,137,144,133,129,99,51,50,64,
65,64,107,140,182,171,140,124,136,135,122,129,102,61,63,134,
64,78,96,118,185,175,149,136,123,146,133,126,108,80,101,168,
100,94,103,126,161,160,145,145,154,165,149,155,122,94,115,161,
128,130,139,147,155,163,164,168,168,175,168,162,124,98,132,152,
145,152,161,172,183,182,177,177,174,182,178,150,121,105,140,150,
159,167,175,181,184,181,177,180,189,189,181,166,138,123,150,148,
171,177,180,180,182,184,187,193,193,191,181,162,135,145,156,151,
160,179,181,186,192,194,194,190,191,188,173,147,139,163,158,153,
141,165,178,183,189,189,191,190,185,180,159,135,158,161,151,135,
167,151,146,161,173,175,174,167,154,143,145,155,155,157,149,130,
170,170,164,153,142,138,137,137,152,164,165,145,143,156,155,144,
176,176,175,173,170,169,169,176,175,166,151,123,141,156,164,152,
183,188,192,192,186,183,177,170,165,167,150,113,132,137,129,118,
185,187,190,189,185,178,167,165,177,180,166,128,116,115,97,95,
178,177,178,178,175,165,161,175,177,178,175,164,155,153,145,142,
167,168,169,167,158,156,172,176,175,176,169,167,171,172,168,163,
156,156,154,145,146,160,166,165,168,169,168,167,170,170,171,168,
146,141,135,140,152,154,160,163,163,166,170,172,174,175,176,175,
143,137,141,161,169,166,163,167,162,159,166,171,172,173,176,175,
149,149,158,175,171,160,157,161,153,153,153,149,140,136,133,135,
164,165,161,168,163,144,130,116,106,99,97,99,99,103,108,114,
171,180,165,168,159,135,113,97,89,91,97,110,115,121,132,141,
170,181,179,178,170,156,154,151,142,143,139,142,144,148,157,163,
172,167,188,182,178,169,159,158,153,152,149,150,153,161,169,167,
170,166,174,184,178,168,159,158,160,158,159,157,159,164,169,170,
147,163,157,176,180,169,159,156,157,157,161,163,166,170,174,177,
138,147,151,154,172,173,159,155,157,161,163,166,168,171,177,179,
149,143,143,143,151,166,164,161,160,157,160,166,168,173,174,172,
153,153,144,136,135,150,159,164,162,158,160,161,165,168,171,169,
153,159,155,145,132,134,146,156,156,159,158,159,161,161,168,167,
147,154,158,151,143,134,134,145,153,154,154,156,158,157,159,159,
140,145,150,150,147,140,130,131,138,145,151,151,153,153,150,148,
127,135,140,141,140,136,129,126,125,130,136,141,144,143,135,128,
110,117,124,125,125,122,120,119,115,114,116,121,123,118,105,100,
85,92,95,97,103,102,99,98,98,98,97,93,85,77,102,143,
154,134,129,139,148,162,167,168,137,105,87,75,66,68,65,57,
153,147,136,137,145,156,164,170,167,147,120,106,96,89,85,67,
158,152,145,145,147,153,158,165,162,167,150,133,135,119,102,69,
159,156,151,150,150,155,158,159,161,162,151,129,116,109,104,73,
179,174,167,159,155,158,158,160,159,161,151,130,116,113,105,87,
175,178,175,171,164,156,155,161,157,156,149,145,139,124,108,104,
145,156,168,173,173,169,158,162,159,158,141,131,130,128,117,106,
97,120,141,154,168,172,170,158,163,160,161,150,136,137,129,122,
98,118,142,145,148,161,174,174,169,161,160,163,161,148,137,128,
125,109,130,152,146,151,165,178,169,165,165,167,164,155,143,135,
158,136,105,111,139,146,159,178,167,159,173,168,165,156,136,126,
179,165,136,101,119,145,154,167,172,153,161,172,158,158,148,125,
190,182,159,127,116,153,158,154,175,151,151,160,160,151,141,127,
194,190,176,141,120,158,157,144,174,149,146,150,153,146,138,125,
194,191,182,152,130,163,153,141,171,145,145,145,141,144,136,126,
192,189,186,163,137,163,147,150,162,144,148,148,138,136,134,128,
194,190,188,169,142,159,141,157,149,140,156,157,143,136,126,128,
196,191,189,178,146,153,137,146,131,123,125,129,132,129,117,113,
198,196,191,180,159,148,146,131,115,106,102,113,124,127,115,103,
199,198,194,187,176,148,156,131,116,106,101,114,115,106,103,93,
199,200,195,189,184,159,154,144,121,108,104,115,110,94,73,75,
194,198,194,189,184,175,146,152,140,122,105,115,103,79,66,72,
190,195,189,179,165,145,117,108,135,142,125,118,91,70,60,63,
186,188,166,131,97,74,64,62,76,94,98,95,78,65,57,57,
180,171,119,71,66,71,73,71,49,45,48,46,41,39,46,49,
167,134,93,92,79,64,90,112,105,82,44,35,24,19,15,17,
143,107,95,63,82,97,102,112,109,73,21,21,16,16,19,12,
80,58,35,76,103,106,85,63,66,52,25,26,29,32,35,19,
47,16,41,95,127,161,142,87,58,52,52,50,51,51,51,33,
146,85,39,92,115,162,145,97,65,62,55,52,52,52,51,41,
180,159,79,117,133,137,118,104,88,72,54,52,53,52,53,48,
174,179,152,143,157,151,147,135,125,94,56,55,57,54,54,52,
158,175,176,160,165,160,159,148,134,115,76,93,109,84,55,54,
154,167,175,171,166,158,156,152,144,132,102,117,140,122,61,55,
153,161,174,171,165,167,162,160,155,136,114,127,151,148,72,55,
151,155,168,178,170,161,165,168,164,132,133,142,155,137,63,53,
150,151,162,177,178,147,135,155,153,117,132,132,135,123,56,54,
138,150,161,174,176,166,141,126,120,95,108,153,172,159,64,54,
132,150,165,171,173,171,157,151,141,116,135,185,195,170,79,53,
142,157,168,173,186,183,168,161,163,149,133,176,199,186,110,54,
146,150,159,169,184,181,164,154,167,164,122,156,189,196,159,64,
114,121,131,136,142,141,140,154,159,159,119,127,173,198,188,104,
90,83,92,114,111,123,150,152,149,147,114,102,163,195,200,155,
131,111,108,111,116,132,150,152,141,132,100,82,145,190,203,187,
153,141,140,135,133,138,146,150,135,108,78,63,123,180,200,199,
163,161,163,155,150,144,140,144,128,89,66,55,94,163,196,202,
173,175,172,168,159,151,145,131,115,93,68,68,89,148,190,200,
172,173,162,156,146,143,143,133,119,108,73,83,105,160,194,201,
139,138,127,124,113,112,110,121,127,120,77,90,111,164,197,206,
119,122,119,120,119,122,130,126,128,126,79,88,103,159,197,207,
147,158,154,146,140,149,152,139,124,114,69,80,90,143,188,203,
166,164,161,158,151,149,148,142,120,98,51,96,117,138,179,200,
167,160,151,147,145,149,152,143,116,82,90,139,167,178,183,192,
168,165,159,153,153,153,152,144,121,79,119,157,176,186,194,194,
175,170,165,164,168,166,162,156,140,86,120,153,174,191,193,199,
173,169,174,177,178,176,171,163,150,109,161,183,184,187,193,195,
169,171,174,178,179,178,173,165,147,153,182,190,195,193,191,191,
169,172,176,180,178,175,167,149,155,183,193,198,199,192,191,184,
166,170,173,175,173,160,144,166,189,199,203,201,197,187,176,165,
160,161,162,163,154,156,182,195,202,206,208,202,188,169,151,145,
150,148,142,150,174,191,199,203,208,209,206,197,179,151,132,114,
120,127,160,185,194,201,207,210,209,206,199,188,166,129,102,90,
132,169,186,194,200,204,208,212,208,199,191,177,146,101,94,73,
167,181,192,198,202,204,206,207,203,195,178,160,113};
//167,181,192,198,202,204,206,207,203,195,178,160,113,96,88,81};
const unsigned char CRC7_POLY = 0x91;
unsigned char CRCTable[256];
  
unsigned char getCRCForByte(unsigned char val)
{
  unsigned char j;
 
  for (j = 0; j < 8; j++)
  {
    if (val & 1)
      val ^= CRC7_POLY;
    val >>= 1;
  }
 
  return val;
}
 
void buildCRCTable()
{
  int i;
 
  // fill an array with CRC values of all 256 possible bytes
  for (i = 0; i < 256; i++)
  {
    CRCTable[i] = getCRCForByte(i);
  }
}
 
unsigned char getCRC(unsigned char message[], unsigned char length)
{
  unsigned char i, crc = 0;
 
  for (i = 0; i < length; i++)
    crc = CRCTable[crc ^ message[i]];
  return crc;
}

#define imgsize 4096 

int main()
{
  unsigned char message[65];
  char *ptr;
  short int inpbuf[imgsize];
  unsigned char CRC;
  int i, j,k, index=0;
  unsigned char barray[imgsize];
  FILE *outptr;
  outptr = fopen("bb.bin","wb");
  
  
  for(i = 0; i < imgsize;i++) inpbuf[i] = a[i];
  for(i = 0; i < imgsize;i++) {
    barray[i] = (unsigned char)inpbuf[i];
    //printf("%d ",barray[i]);
  }
  //printf("\n");
  
  buildCRCTable();
  
  for(j=0;j<64;j++) {
    for(i=0;i<64;i++) {
      message[i] = barray[index];
      //printf("%x ",message[i]);
      index++;
    }
    CRC = getCRC(message, 64);
    message[64] = CRC;
    for(k=0;k<64;k++) printf("%x",message[k]);
    
    printf("\n0x%x\n",CRC);
    fwrite(message,sizeof(message),1,outptr);
    //fwrite((unsigned char)CRC,sizeof(CRC),1,outptr);
    /*
    for(k=0;k<128;k++) printf("%x",message[k]);
    printf("\n");
    CRC = getCRC(message, 128);
    printf("j = %d i = %d CRC = 0x%x\n",j,i,CRC);
    */
  }
  fclose(outptr);
}

